<%= form_with model: [@project, @task], local: true, data: { turbo: false } do |f| %>     <!-- Using turbo: false here because errors don't show up otherwise, would replace with a precise turbo stream -->
<% if f.object.errors.any? %>
<div class="alert alert-danger" role="alert">
    <%= pluralize(f.object.errors.count, "error") %> prohibited this project from being saved:
    <ul>
        <% f.object.errors.each do |error| %>
        <li><%= error.full_message %></li>
        <% end %>
    </ul>
</div>
<% end %>



<div>
    <%= f.label :title %>
    <%= f.text_field :title, class: "form-control" %>
</div>

<div>
    <%= f.label :description, style: "display: block" %>
    <%= f.textarea :description, class: "form-control"  %>
</div>

<div>
    <%= f.label :status %>
    <%= f.select :status, Task::STATUSES.map { |s| [s.titleize, s] }, prompt: "Select status", class: "btn btn-light dropdown-toggle"  %>
</div>

<div>
    <%= f.label :due_date%>
    <%= f.date_field :due_date, include_blank: true, class: "form-control"  %>
</div>

<div>
    <%= f.label :priority%>
    <%= f.select :priority, Task::VALID_PRIORITIES.map { |s| [s, s] }, prompt: "Select priority", class: "btn btn-light dropdown-toggle"  %>
</div>

<%= f.submit%>
</div>
<% end %>